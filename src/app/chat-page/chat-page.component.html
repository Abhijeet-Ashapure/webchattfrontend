<div *ngIf="userType == 'guestUser'; else elseUser">

    <section class="seacrhPageBlock">
      <div class="custom-container">
        <div class="searchBBox posRel">
          <div class="searchbox">
            <button class="btn-menu">
              <img src="https://img.icons8.com/cute-clipart/24/000000/top-menu.png">
            </button>
            <input id="search" type="text" placeholder="Search..." name="search" class="search" [(ngModel)]="searchUserForGuest">
            <button  class="btn-search">
              <img src="https://img.icons8.com/cotton/24/000000/search--v2.png">
            </button>
            <button  class="btn-search" (click)="sendEmailToInvite(searchUserForGuest)" title="On Click to this button you can send email to enterd email Id">
              <i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
            </button>
          </div>
          <div id="Modal" class="search-modal">
              <div class="search-modal-header">
                  <h3>Search</h3>
                  <span id="close" style="position: relative;"><img  src="https://img.icons8.com/cotton/24/000000/cancel--v2.png"></span>
              </div>
              <div class="search-modal-body">
                <div *ngFor="let user of AllUser | filter:searchUserForGuest"> 
                  <div *ngIf="userId != user._id" class="message" [routerLink]="['/Web-Chat/Chat', user._id]">
                    <div class="message-avatar">
                        <img src="assets/img/avatar.jpg" alt="">
                    </div>
                  <div class="message-body">
                    <p>{{user.userName}}</p>
                  </div>
                </div>
                </div>
              </div>    
          </div>
        </div>
      </div>
    </section>
  
    <div class="sidebar-active">
      <div class="chitchat-container  sidebar-toggle">
        <aside class="chitchat-left-sidebar  left-disp" style="visibility: hidden; min-width: 0px; width: 0px;">
          <div class="recent-default dynemic-sidebar active">
            <div class="chat custom-scroll">
              <div class="theme-tab tab-sm chat-tabs">
                <div class="tab-content" id="myTabContent">
                  <div class="tab-pane fade show active" id="chat" role="tabpanel" aria-labelledby="chat-tab">
                    <div class="theme-tab">
                      <div class="tab-content" id="myTabContent1">
                        <div class="tab-pane fade show active" id="direct" role="tabpanel" aria-labelledby="direct-tab">
                          <div class="searchBar pt-3">
                            <div class="form-group posRel">
                              <input class="form-control-plaintext" [(ngModel)]="searchUser" type="search"
                                placeholder="Search..">
                              <span><i class="fa fa-search"></i></span>
                            </div>
                          </div>
                          <div class="d-flex align-items-center mt-2 mb-2">
                            <img src="assets/img/logoChat.png" />
                            <a class="btn btn-primary button-effect ml-3" data-toggle="modal"
                              data-target="#exampleModal2">Create Chat Group</a>
                            <a class="btn button-effect btn-signup">Invite</a>
                          </div>
                          <!-- Modal -->
                          <div class="modal fade" id="exampleModaltest" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header modalHeaderSection">
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <div class="text-center">
                                    <div class="modalPicture">
                                      <img src="assets/img/chat1.jpg" />
                                    </div>
                                    <div class="editIcoon">
                                      <a><i class="fa fa-pencil"></i></a>
                                    </div>
                                    <div class="modalName text-center">
                                      <h3>Josefin Water</h3>
                                    </div>
                                    <div class="profileList mt-4">
                                      <h3 class="text-left">Share Profile</h3>
                                    </div>
                                    <div class="profileList mt-4">
                                      <h5>Profile</h5>
                                      <div class="d-flex align-items-center profileLlist">
                                        <h4 class="mb-0">WebChat Name</h4>
                                        <p class="mb-0 ml-auto">live:josefin.name</p>
                                      </div>
                                      <div class="d-flex align-items-center profileLlist">
                                        <h4 class="mb-0">Email Address</h4>
                                        <p class="mb-0 ml-auto">email@gmail.com</p>
                                      </div>
                                    </div>
                                    <div class="profileList mt-4 brdrBtmNone">
                                      <h5>Help and Feedback</h5>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- Modal -->
                          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <div class="d-flex align-items-center w-100">
                                    <h5 class="modal-title" id="exampleModalLabel"><a data-toggle="modal"
                                        data-target="#exampleModal2" data-dismiss="modal"><i
                                          class="fa fa-long-arrow-left mr-2"></i></a>Group Chat</h5>
                                  </div>
                                  <h5 class="modal-title" id="exampleModalLabel">New Group Chat</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <div class="profileImgge text-center">
                                    <div class="log_div">
                                      <div class="prfle-img-sgnup">
                                        <img [src]="groupImage" id="pImg"
                                          onerror="this.onerror=null;this.src='assets/img/avatar.jpg'">
                                      </div>
                                      <div class="text-center upload_pic_in_album">
                                        <!--src="assets/img/avatar" [src]="groupImage" <input accept="image/*" class="inputfile hideDiv" id="file-1" name="profileImage"
                                          onchange="document.getElementById('pImg').src = window.URL.createObjectURL(this.files[0])"
                                          style="display: none;" type="file"> -->
                                        <!-- <input  class="inputfile hideDiv" name="profileImage" #groupImage type="file" id="file-1" class="form-control"
                                                     accept="*"
                                                 (change)="selectProfileImage($event)">
                                        <label for="file-1">
                                          <span class="fa fa-camera"></span></label>
                                          input[type='file']{  
                                             visibility: hidden;  
                                                    }  
                                              #selectProfileImage
                                        -->
    
                                        <input id="file-1" id="pImg" #filepicker type="file" (change)="selectProfileImage($event)">
                                        <label for="file-1" (click)="filepicker.click()">
                                          <span class="fa fa-camera fa-2x"></span></label>
                                      </div>
                                      <div id="profileImage-err"> </div>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-form-label">Group Name</label>
                                    <input class="form-control" type="text" [(ngModel)]="room"
                                      placeholder="Enter your room name" default=''>
                                  </div>
                                </div>
                                <div class="modal-footer d-flex align-items-center justify-content-center">
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                  <!-- data-toggle="modal" data-target="#exampleModal2" data-dismiss="modal" [disabled]="room == '' || room == null" -->
                                  <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    (click)="joinGroup(room,selectedUserGroup)">Next</button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--second modal -->
                          <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <div class="d-flex align-items-center w-100">
                                    <!-- <h5 class="modal-title" id="exampleModalLabel"><a data-toggle="modal"
                                        data-target="#exampleModal" data-dismiss="modal"><i
                                          class="fa fa-long-arrow-left mr-2"></i></a>Group Chat</h5> -->
                                    <button type="button" class="ml-auto btn doneBtn"
                                      [disabled]="selectedUserGroup.length == 0" data-toggle="modal"
                                      data-target="#exampleModal" data-dismiss="modal">Next</button>
                                  </div>
                                </div>
                                <div class="modal-body">
                                  <div class="searchBar mt-2">
                                    <div class="form-group posRel">
                                      <input class="form-control-plaintext" type="search" [(ngModel)]="searchToAddGroup"
                                        placeholder="Search..">
                                      <span><i class="fa fa-search"></i></span>
                                    </div>
                                  </div>
                                  <div class="circleBlock pt-1 pb-3">
                                    <div class="flexItemObject" *ngFor="let user of selectedUserGroup; let i=index;">
                                      <div class="imageSection">
                                        <img src="assets/img/chat1.jpg" />
                                        <a (click)="removeSelectedUser(i)"><i class="fa fa-times"></i></a>
                                        <h6 class="mb-0">{{user.userName}}</h6>
                                      </div>
                                    </div>
                                    <!-- <div class="flexItemObject mr-2">
                                      <div class="imageSection">
                                        <img src="assets/img/chat1.jpg" />
                                        <a href="closecon"><i class="fa fa-times"></i></a>
                                        <h6 class="mb-0">John Doe</h6>
                                      </div>
                                    </div> -->
                                  </div>
                                  <div class="clearfix"></div>
                                  <div class="listingChat pt-3">
                                    <!--  | search:searchTerm  -->
                                    <div class="d-flex align-items-center listingName mb-3"
                                      *ngFor="let user of AllUser | filter:searchToAddGroup;let i=index;">
                                      <div class="d-flex align-items-center imgName">
                                        <img src="assets/img/chat1.jpg" />
                                        <h5>
                                          {{user.userName}}
                                        </h5>
    
                                      </div>
                                      <div class="ml-auto">
                                        <p class="mb-0">
                                          <input type="checkbox" id="{{'test'+i}}" (change)="addUserGroup($event,user)"
                                            name="checkbox-group" [checked]="checkselected(user)">
                                          <label for="{{'test'+i}}"></label>
                                        </p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--/second modal -->
                          <ul class="chat-main">
                            <!-- | search:searchTerm -->
                            <div *ngFor="let room of groupNames | filter:searchUser">
                              <div  *ngFor="let roomMember of room.memberId">
                                <li *ngIf="userId == room.adminId || userId == roomMember._id " class="active" data-to="chatting">
                                  <div class="chat-box" (click)=OpenChatRoomBox(room._id)>
                                    <div class="profile imgName ">
                                      <img class="bg-img" src="{{room.groupImg}}" alt="Avatar"
                                        style="height: 50px; width: 55px;"
                                        onerror="this.onerror=null;this.src='assets/img/avatar.jpg'" />
                                    </div>
                                    <div class="details">
                                      <h5>{{room.groupName}}</h5>
                                    </div>
                                    <div class="date-status"><i class="ti-pin2"></i>
                                      <h6>22/10/19</h6>
                                      <h6 class="font-success status"> Seen</h6>
                                    </div>
                                  </div>
                                </li>
                              </div>
                            </div>
                            <div *ngFor="let user of AllUser | filter:searchUser">
                              <li *ngIf="userId != user._id" class="active" data-to="chatting">
                                <div class="chat-box" (click)="OpenChatBox(user._id)">
                                  <div class="profile imgName"><img class="bg-img" src="assets/img/chat1.jpg"
                                      alt="Avatar" /></div>
                                  <div class="details">
                                    <h5>{{user.userName}}</h5>
                                    <!-- <h6>Hi, i am josephin. How are you.. ! There are many variations of passages.</h6> -->
                                  </div>
                                  <div class="date-status"><i class="ti-pin2"></i>
                                    <h6>22/10/19</h6>
                                    <h6 class="font-success status"> Seen</h6>
                                  </div>
                                </div>
                              </li>
                            </div>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </aside>
        <div class="chitchat-main  small-sidebar posRel" id="content">
          <!--dropdown-->
          <div class="dropdown dropMenu dropDownwidth">
            <a class="btn btn-secondary" routerLink="/SearchPage" id="dropdownMenuButton" aria-haspopup="true"
              aria-expanded="false"><i class="fa fa-arrow-left"></i></a>
          </div>
          <!--/dropdown-->
          <!-- if room user  room-->
          <div *ngIf="User"  class="chat-content tabto active navbar-fixed-top">
            <div class="messages custom-scroll active" id="chating" style="min-height: calc(100vh - 146px); height: calc(100vh - 146px);">
              <div class="contact-details" style="width: 100% !important;">
                <div class="row">
                  <form class="form-inline search-form">
                    <div class="form-group">
                      <input class="form-control-plaintext" type="search" placeholder="Search.." />
                      <div class="icon-close close-search"> </div>
                    </div>
                  </form>
                  <div class="col-7">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                      </div>
                      <div class="media-body">
                        <h5>{{User.userName}}</h5>
                        <div class="badge badge-success">Active</div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li class="chat-friend-toggle"><a
                          class="icon-btn btn-white bg-primary text-white button-effect outsidedropdown-toggle"
                          id="dropdownMenuButton" data-toggle="dropdown" data-tippy-content="Quick action"><i
                            class="fa fa-bars" aria-hidden="true"></i></a>
                        <!-- <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              <a data-toggle="modal" class="form-control badge-primary text-white"
                                data-target="#exampleModal2">Create Group</a>
                            </div>
                          </div>
                          <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              (click)="deleteLeaveId = user.id" user
                              <a data-toggle="modal" href="#leaveModal" class="form-control badge-primary text-white">leave
                                Group</a>
                            </div>
                          </div>
                        </div> -->
                        <div class="chat-frind-content">
                          <ul>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-trash"
                                  aria-hidden="true"></i></a>
                              <h5>Delete Conversation History</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-ban"
                                  aria-hidden="true"></i></a>
                              <h5>Disable Chat</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-envelope-o"
                                  aria-hidden="true"></i></a>
                              <h5>email chat transcript</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <ul *ngFor="let message of userMessage">
                  <li *ngIf="userId == message.senderId; else elsePart" class="replies">
                    <div class="media">
                      <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                          alt="Avatar" /></div>
                      <div class="media-body">
                        <div class="contact-name">
                          <h5>{{userData}}</h5>
                          <h6>{{message.created_at | date:'short'}}</h6>
                          <ul class="msg-box">
                            <li class="msg-setting-main">
                              <h5>{{message.message}}</h5>
                            </li>
                            <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </li>
                  <ng-template #elsePart>
                    <li class="sent">
                      <div class="media">
                        <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                        <div class="media-body">
                          <div class="contact-name">
                            <h5>{{User?.userName}}</h5>
                            <h6>{{message.created_at | date:'short'}}</h6>
                            <ul class="msg-box">
                              <li class="msg-setting-main">
                                <h5>{{message.message}}</h5>
                              </li>
                              <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ng-template>
                </ul>
                <ul class="chatappend" id="message-list">
                </ul>
              </div>
            </div>
            <div class="messages custom-scroll" id="group_blank">
              <div class="contact-details">
                <div class="row">
                  <div class="col">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                      </div>
                      <div class="media-body">
                        <h5>Family Ties</h5>
                        <h6>Last Seen 2 hours</h6>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Audio Call"
                          data-toggle="modal" data-target="#confercall"><i data-feather="phone"></i></a></li>
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Video Call"
                          data-toggle="modal" data-target="#confvideocl"><i data-feather="video"></i></a></li>
                      <li class="chat-friend-toggle"><a class="icon-btn btn-light bg-transparent button-effect outside"
                          data-tippy-content="Quick action"><i data-feather="more-vertical"></i></a>
                        <div class="chat-frind-content">
                          <ul>
                            <li><a class="icon-btn btn-outline-primary button-effect btn-sm"><i data-feather="user"></i></a>
                              <h5>profile</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-success button-effect btn-sm"><i
                                  data-feather="plus-circle"></i></a>
                              <h5>archive</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-danger button-effect btn-sm"><i
                                  data-feather="trash-2"></i></a>
                              <h5>delete</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-light button-effect btn-sm"><i data-feather="slash"></i></a>
                              <h5>block</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <div class="rightchat animat-rate">
                  <div class="bg_circle">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                  </div>
                  <div class="cross"></div>
                  <div class="cross1"></div>
                  <div class="cross2"></div>
                  <div class="dot"></div>
                  <div class="dot1"> </div>
                </div>
              </div>
              <!-- <img src="../assets/images/chat.png" alt="" /> -->
              <div class="call-list-center">
                <div class="animated-bg"><i></i><i></i><i></i></div>
                <p>Select a chat to read messages</p>
              </div>
            </div>
            <div class="message-input">
              <div class="wrap emojis-main d-flex align-items-center">
                <div class="messageBox w-100">
                  <input class="setemoj" id="setemoj"
                    style="width: 100%;line-height: 2.5rem !important; border: 1px solid !important; border-radius: 7px !important"
                    type="text" [(ngModel)]="message" placeholder="Type a message..." />
                </div>
                <div class="uploadicon ml-2" style="width: 7%;">
                  <!-- href="javascript:void(0);" -->
                  <!-- <a href="javascript:void(0)">
                    <i class="fa fa-image"></i>
                  </a> -->
                  <input *ngIf="!isUpload" id="file" type="file" (change)="selectFile($event)">
                  <label for="file" style="margin-bottom: 0px !important;">
                    <i class="fa fa-camera"></i></label>
    
    
    
    
                  <!-- <input accept="image/*" class="inputfile hideDiv" id="file-1" name="profileImage"
                        onchange="document.getElementById('pImg').src = window.URL.createObjectURL(this.files[0])"
                        style="display: none;" type="file">
                      <label for="file-1">
                        <i class="fa fa-camera"></i></label> -->
    
    
                </div>
    
    
                <!-- disabled disabled="disabled"-->
    
                <button type="button" class="submit icon-btn btn-primary mr-2" [disabled]="message == '' || message == null"
                  (click)="sendMessage(message)"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #elseUser>
    <div class="sidebar-active">
      <div class="chitchat-container  sidebar-toggle">
        <aside class="chitchat-left-sidebar  left-disp">
          <div class="recent-default dynemic-sidebar active">
            <div class="chat custom-scroll">
              <div class="theme-tab tab-sm chat-tabs">
                <div class="tab-content" id="myTabContent">
                  <div class="tab-pane fade show active" id="chat" role="tabpanel" aria-labelledby="chat-tab">
                    <div class="theme-tab">
                      <div class="tab-content" id="myTabContent1">
                        <div class="tab-pane fade show active" id="direct" role="tabpanel" aria-labelledby="direct-tab">
                          <div class="searchBar pt-3">
                            <div class="form-group posRel">
                              <input class="form-control-plaintext" [(ngModel)]="searchUser" type="search"
                                placeholder="Search..">
                              <span><i class="fa fa-search"></i></span>
                            </div>
                          </div>
                          <div class="d-flex align-items-center mt-2 mb-2">
                            <img src="assets/img/logoChat.png" />
                            <a class="btn btn-primary button-effect ml-3" data-toggle="modal"
                              data-target="#exampleModal2">Create Chat Group</a>
                            <a class="btn button-effect btn-signup">Invite</a>
                          </div>
                          <!-- Modal -->
                          <div class="modal fade" id="exampleModaltest" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header modalHeaderSection">
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <div class="text-center">
                                    <div class="modalPicture">
                                      <img src="assets/img/chat1.jpg" />
                                    </div>
                                    <div class="editIcoon">
                                      <a><i class="fa fa-pencil"></i></a>
                                    </div>
                                    <div class="modalName text-center">
                                      <h3>Josefin Water</h3>
                                    </div>
                                    <div class="profileList mt-4">
                                      <h3 class="text-left">Share Profile</h3>
                                    </div>
                                    <div class="profileList mt-4">
                                      <h5>Profile</h5>
                                      <div class="d-flex align-items-center profileLlist">
                                        <h4 class="mb-0">WebChat Name</h4>
                                        <p class="mb-0 ml-auto">live:josefin.name</p>
                                      </div>
                                      <div class="d-flex align-items-center profileLlist">
                                        <h4 class="mb-0">Email Address</h4>
                                        <p class="mb-0 ml-auto">email@gmail.com</p>
                                      </div>
                                    </div>
                                    <div class="profileList mt-4 brdrBtmNone">
                                      <h5>Help and Feedback</h5>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- Modal -->
                          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <div class="d-flex align-items-center w-100">
                                    <h5 class="modal-title" id="exampleModalLabel"><a data-toggle="modal"
                                        data-target="#exampleModal2" data-dismiss="modal"><i
                                          class="fa fa-long-arrow-left mr-2"></i></a>Group Chat</h5>
                                  </div>
                                  <h5 class="modal-title" id="exampleModalLabel">New Group Chat</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <div class="profileImgge text-center">
                                    <div class="log_div">
                                      <div class="prfle-img-sgnup">
                                        <img [src]="groupImage" id="pImg"
                                          onerror="this.onerror=null;this.src='assets/img/avatar.jpg'">
                                      </div>
                                      <div class="text-center upload_pic_in_album">
                                        <!--src="assets/img/avatar" [src]="groupImage" <input accept="image/*" class="inputfile hideDiv" id="file-1" name="profileImage"
                                          onchange="document.getElementById('pImg').src = window.URL.createObjectURL(this.files[0])"
                                          style="display: none;" type="file"> -->
                                        <!-- <input  class="inputfile hideDiv" name="profileImage" #groupImage type="file" id="file-1" class="form-control"
                                                     accept="*"
                                                 (change)="selectProfileImage($event)">
                                        <label for="file-1">
                                          <span class="fa fa-camera"></span></label>
                                          input[type='file']{  
                                             visibility: hidden;  
                                                    }  
                                              #selectProfileImage
                                        -->
    
                                        <input id="file-1" id="pImg" #filepicker type="file" (change)="selectProfileImage($event)">
                                        <label for="file-1" (click)="filepicker.click()">
                                          <span class="fa fa-camera fa-2x"></span></label>
                                      </div>
                                      <div id="profileImage-err"> </div>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-form-label">Group Name</label>
                                    <input class="form-control" type="text" [(ngModel)]="room"
                                      placeholder="Enter your room name" default=''>
                                  </div>
                                </div>
                                <div class="modal-footer d-flex align-items-center justify-content-center">
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                  <!-- data-toggle="modal" data-target="#exampleModal2" data-dismiss="modal" [disabled]="room == '' || room == null" -->
                                  <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    (click)="joinGroup(room,selectedUserGroup)">Next</button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--second modal -->
                          <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <div class="d-flex align-items-center w-100">
                                    <!-- <h5 class="modal-title" id="exampleModalLabel"><a data-toggle="modal"
                                        data-target="#exampleModal" data-dismiss="modal"><i
                                          class="fa fa-long-arrow-left mr-2"></i></a>Group Chat</h5> -->
                                    <button type="button" class="ml-auto btn doneBtn"
                                      [disabled]="selectedUserGroup.length == 0" data-toggle="modal"
                                      data-target="#exampleModal" data-dismiss="modal">Next</button>
                                  </div>
                                </div>
                                <div class="modal-body">
                                  <div class="searchBar mt-2">
                                    <div class="form-group posRel">
                                      <input class="form-control-plaintext" type="search" [(ngModel)]="searchToAddGroup"
                                        placeholder="Search..">
                                      <span><i class="fa fa-search"></i></span>
                                    </div>
                                  </div>
                                  <div class="circleBlock pt-1 pb-3">
                                    <div class="flexItemObject" *ngFor="let user of selectedUserGroup; let i=index;">
                                      <div class="imageSection">
                                        <img src="assets/img/chat1.jpg" />
                                        <a (click)="removeSelectedUser(i)"><i class="fa fa-times"></i></a>
                                        <h6 class="mb-0">{{user.userName}}</h6>
                                      </div>
                                    </div>
                                    <!-- <div class="flexItemObject mr-2">
                                      <div class="imageSection">
                                        <img src="assets/img/chat1.jpg" />
                                        <a href="closecon"><i class="fa fa-times"></i></a>
                                        <h6 class="mb-0">John Doe</h6>
                                      </div>
                                    </div> -->
                                  </div>
                                  <div class="clearfix"></div>
                                  <div class="listingChat pt-3">
                                    <!--  | search:searchTerm  -->
                                    <div  *ngFor="let user of AllUser | filter:searchToAddGroup;let i=index;">
                                      <div *ngIf="user.userType !='guestUser'" class="d-flex align-items-center listingName mb-3">
                                         <div class="d-flex align-items-center imgName">
                                           <img src="assets/img/chat1.jpg" />
                                           <h5>
                                             {{user.userName}}
                                           </h5>
                                         </div>
                                         <div class="ml-auto">
                                           <p class="mb-0">
                                             <input type="checkbox" id="{{'test'+i}}" (change)="addUserGroup($event,user)"
                                               name="checkbox-group" [checked]="checkselected(user)">
                                             <label for="{{'test'+i}}"></label>
                                           </p>
                                         </div>
                                     </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--/second modal -->
                          <ul class="chat-main">
                            <!-- | search:searchTerm -->
                            <div *ngFor="let room of groupNames | filter:searchUser">
                              <div  *ngFor="let roomMember of room.memberId">
                                <li *ngIf="userId == room.adminId || userId == roomMember._id " class="active" data-to="chatting">
                                  <div class="chat-box" (click)=OpenChatRoomBox(room._id)>
                                    <div class="profile imgName ">
                                      <img class="bg-img" src="{{room.groupImg}}" alt="Avatar"
                                        style="height: 50px; width: 55px;"
                                        onerror="this.onerror=null;this.src='assets/img/avatar.jpg'" />
                                    </div>
                                    <div class="details">
                                      <h5>{{room.groupName}}</h5>
                                    </div>
                                    <div class="date-status"><i class="ti-pin2"></i>
                                      <h6>22/10/19</h6>
                                      <h6 class="font-success status"> Seen</h6>
                                    </div>
                                  </div>
                                </li>
                              </div>
                            </div>
                            <div *ngFor="let user of AllUser | filter:searchUser">
                              <li *ngIf="userId != user._id" class="active" data-to="chatting">
                                <div class="chat-box" (click)="OpenChatBox(user._id)">
                                  <div class="profile imgName"><img class="bg-img" src="assets/img/chat1.jpg"
                                      alt="Avatar" /></div>
                                  <div class="details">
                                    <h5>{{user.userName}}</h5>
                                    <!-- <h6>Hi, i am josephin. How are you.. ! There are many variations of passages.</h6> -->
                                  </div>
                                  <div class="date-status"><i class="ti-pin2"></i>
                                    <h6>22/10/19</h6>
                                    <h6 class="font-success status"> Seen</h6>
                                  </div>
                                </div>
                              </li>
                            </div>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </aside>
        <div class="chitchat-main  small-sidebar posRel" id="content">
          <!--dropdown-->
          <div class="dropdown dropMenu dropDownwidth">
            <a class="btn btn-secondary dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false"><i class="fa fa-bars"></i></a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <div class="d-flex align-items-center topImage">
                <img src="assets/img/logoChat.png" />
                <a (click)="logout()" class="ml-auto">Logout</a>
              </div>
              <div class="profileName pt-3 pb-3 brdrBtm clearfix">
                <div class="media" data-toggle="modal" data-target="#exampleModaltest">
                  <img class="mr-3" src="assets/img/chat1.jpg" alt="Generic placeholder image">
                  <div class="media-body">
                    <h5 class="mt-0">{{userData}}</h5>
                    <p class="mb-0">john@gmail.com</p>
                  </div>
                </div>
              </div>
              <div class="d-flex align-items-center pt-3 pb-3 brdrBtm">
                <a class="greenDot mr-2"></a>
                <p class="mb-0">Online</p>
              </div>
              <div class="pt-3 pb-3 brdrBtm">
                <p class="mb-0">Starred Messages</p>
              </div>
              <div class="pt-3 pb-3 brdrBtm">
                <p class="mb-0">About Us</p>
              </div>
              <div class="pt-3 pb-3 brdrBtm">
                <p class="mb-0">Terms & Conditions</p>
              </div>
            </div>
          </div>
          <!--/dropdown-->
          <!-- if room user  room-->
          <div *ngIf="User" class="chat-content tabto active navbar-fixed-top">
            <div class="messages custom-scroll active" id="chating">
              <div class="contact-details">
                <div class="row">
                  <form class="form-inline search-form">
                    <div class="form-group">
                      <input class="form-control-plaintext" type="search" placeholder="Search.." />
                      <div class="icon-close close-search"> </div>
                    </div>
                  </form>
                  <div class="col-7">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                      </div>
                      <div class="media-body">
                        <h5>{{User?.userName}}</h5>
                        <div class="badge badge-success">Active</div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li class="chat-friend-toggle"><a
                          class="icon-btn btn-white bg-primary text-white button-effect outsidedropdown-toggle"
                          id="dropdownMenuButton" data-toggle="dropdown" data-tippy-content="Quick action"><i
                            class="fa fa-bars" aria-hidden="true"></i></a>
                        <!-- <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              <a data-toggle="modal" class="form-control badge-primary text-white"
                                data-target="#exampleModal2">Create Group</a>
                            </div>
                          </div>
                          <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              (click)="deleteLeaveId = user.id" user
                              <a data-toggle="modal" href="#leaveModal" class="form-control badge-primary text-white">leave
                                Group</a>
                            </div>
                          </div>
                        </div> -->
                        <div class="chat-frind-content">
                          <ul>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-trash"
                                  aria-hidden="true"></i></a>
                              <h5>Delete Conversation History</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-ban"
                                  aria-hidden="true"></i></a>
                              <h5>Disable Chat</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-envelope-o"
                                  aria-hidden="true"></i></a>
                              <h5>email chat transcript</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <ul *ngFor="let message of userMessage">
                  <li *ngIf="userId == message.senderId || message.isDeleteFromSender; else elsePart" class="replies">
                    <div class="media">
                      <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                          alt="Avatar" /></div>
                      <div class="media-body">
                        <div class="contact-name">
                          <h5>{{userData}}</h5>
                          <h6>{{message.created_at | date:'short'}}</h6>
                          <ul class="msg-box">
                            <li class="msg-setting-main">
                              <h5>{{message.message}}</h5>
                            </li>
                            <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </li>
                  <ng-template #elsePart>
                    <li class="sent">
                      <div class="media">
                        <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                        <div class="media-body">
                          <div class="contact-name">
                            <h5>{{User?.userName}}</h5>
                            <h6>{{message.created_at | date:'short'}}</h6>
                            <ul class="msg-box">
                              <li class="msg-setting-main">
                                <h5>{{message.message}}</h5>
                              </li>
                              <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ng-template>
                </ul>
                <ul class="chatappend" id="message-list">
                </ul>
              </div>
            </div>
            <div class="messages custom-scroll" id="group_blank">
              <div class="contact-details">
                <div class="row">
                  <div class="col">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                      </div>
                      <div class="media-body">
                        <h5>Family Ties</h5>
                        <h6>Last Seen 2 hours</h6>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Audio Call"
                          data-toggle="modal" data-target="#confercall"><i data-feather="phone"></i></a></li>
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Video Call"
                          data-toggle="modal" data-target="#confvideocl"><i data-feather="video"></i></a></li>
                      <li class="chat-friend-toggle"><a class="icon-btn btn-light bg-transparent button-effect outside"
                          data-tippy-content="Quick action"><i data-feather="more-vertical"></i></a>
                        <div class="chat-frind-content">
                          <ul>
                            <li><a class="icon-btn btn-outline-primary button-effect btn-sm"><i data-feather="user"></i></a>
                              <h5>profile</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-success button-effect btn-sm"><i
                                  data-feather="plus-circle"></i></a>
                              <h5>archive</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-danger button-effect btn-sm"><i
                                  data-feather="trash-2"></i></a>
                              <h5>delete</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-light button-effect btn-sm"><i data-feather="slash"></i></a>
                              <h5>block</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <div class="rightchat animat-rate">
                  <div class="bg_circle">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                  </div>
                  <div class="cross"></div>
                  <div class="cross1"></div>
                  <div class="cross2"></div>
                  <div class="dot"></div>
                  <div class="dot1"> </div>
                </div>
              </div>
              <!-- <img src="../assets/images/chat.png" alt="" /> -->
              <div class="call-list-center">
                <div class="animated-bg"><i></i><i></i><i></i></div>
                <p>Select a chat to read messages</p>
              </div>
            </div>
            <div class="message-input">
              <div class="wrap emojis-main d-flex align-items-center">
                <div class="messageBox w-100">
                  <input class="setemoj" id="setemoj"
                    style="width: 100%;line-height: 2.5rem !important; border: 1px solid !important; border-radius: 7px !important"
                    type="text" [(ngModel)]="message" placeholder="Type a message..." />
                </div>
                <div class="uploadicon ml-2" style="width: 7%;">
                  <!-- href="javascript:void(0);" -->
                  <!-- <a href="javascript:void(0)">
                    <i class="fa fa-image"></i>
                  </a> -->
                  <input *ngIf="!isUpload" id="file" type="file" (change)="selectFile($event)">
                  <label for="file" style="margin-bottom: 0px !important;">
                    <i class="fa fa-camera"></i></label>
    
    
    
    
                  <!-- <input accept="image/*" class="inputfile hideDiv" id="file-1" name="profileImage"
                        onchange="document.getElementById('pImg').src = window.URL.createObjectURL(this.files[0])"
                        style="display: none;" type="file">
                      <label for="file-1">
                        <i class="fa fa-camera"></i></label> -->
    
    
                </div>
    
    
                <!-- disabled disabled="disabled"-->
    
                <button type="button" class="submit icon-btn btn-primary mr-2" [disabled]="message == '' || message == null"
                  (click)="sendMessage(message)"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
              </div>
            </div>
          </div>
          <div *ngIf="roomUser" class="chat-content tabto active navbar-fixed-top">
            <div class="messages custom-scroll active" id="chating">
              <div class="contact-details">
                <div class="row">
                  <form class="form-inline search-form">
                    <div class="form-group">
                      <input class="form-control-plaintext" type="search" placeholder="Search.." />
                      <div class="icon-close close-search"> </div>
                    </div>
                  </form>
                  <div class="col-7">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="{{room.groupImg}}" alt="Avatar"
                            style="height: 50px;width: 50px;"
                            onerror="this.onerror=null;this.src='assets/img/avatar.jpg'" /></div>
                      </div>
                      <div class="media-body">
                        <h5>{{room?.groupName}}</h5>
                        <div class="badge badge-success">Active</div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li class="chat-friend-toggle"><a
                          class="icon-btn btn-white bg-primary text-white button-effect outsidedropdown-toggle"
                          id="dropdownMenuButton" data-toggle="dropdown" data-tippy-content="Quick action"><i
                            class="fa fa-bars" aria-hidden="true"></i></a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <!-- <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              <a data-toggle="modal" class="form-control badge-primary text-white"
                                data-target="#exampleModal2">Create Group</a>
                            </div>
                          </div> -->
                          <div class="d-flex align-items-center m-2 brdrBtm">
                            <div class="form-group">
                              <!-- (click)="deleteLeaveId = user.id" (click)="deleteLeaveId = room.id"-->
                              <a data-toggle="modal" href="#leaveModal" class="form-control badge-primary text-white" >leave
                                Group</a>
                            </div>
                          </div>
                        </div>
                        <div class="chat-frind-content">
                          <ul>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-trash"
                                  aria-hidden="true"></i></a>
                              <h5>Delete Conversation History</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-ban"
                                  aria-hidden="true"></i></a>
                              <h5>Disable Chat</h5>
                            </li>
                            <li class="d-flex align-items-center">
                              <a class="icon-btn btn-outline-danger button-effect btn-sm"><i class="fa fa-envelope-o"
                                  aria-hidden="true"></i></a>
                              <h5>email chat transcript</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <ul *ngFor="let message of groupMessage">
                  <li *ngIf="userId == message.senderId._id; else elsePart" class="replies">
                    <div class="media">
                      <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                          alt="Avatar" /></div>
                      <div class="media-body">
                        <div class="contact-name">
                          <h5>{{userData}}</h5>
                          <h6>{{message.created_at | date:'short'}}</h6>
                          <ul class="msg-box">
                            <li class="msg-setting-main">
                              <h5>{{message.message}}</h5>
                            </li>
                            <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </li>
                  <ng-template #elsePart>
                    <li class="sent">
                      <div class="media">
                        <div class="profile mr-4"><img class="bg-img" style="border-radius: 50%;" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                        <div class="media-body">
                          <div class="contact-name">
                            <h5>{{message.senderId.userName}}</h5>
                            <h6>{{message.created_at | date:'short'}}</h6>
                            <ul class="msg-box">
                              <li class="msg-setting-main">
                                <h5>{{message.message}}</h5>
                              </li>
                              <li *ngIf="message.file"><img class="bg-img" src="{{message.file}}" alt="Avatar" /></li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ng-template>
                </ul>
                <ul class="chatappend" id="message-list-group">
                </ul>
              </div>
            </div>
            <div class="messages custom-scroll" id="group_blank">
              <div class="contact-details">
                <div class="row">
                  <div class="col">
                    <div class="media left">
                      <div class="media-left mr-3">
                        <div class="profile online menu-trigger"><img class="bg-img" src="assets/img/chat1.jpg"
                            alt="Avatar" /></div>
                      </div>
                      <div class="media-body">
                        <h5>Family Ties</h5>
                        <h6>Last Seen 2 hours</h6>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <ul class="calls text-right">
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Audio Call"
                          data-toggle="modal" data-target="#confercall"><i data-feather="phone"></i></a></li>
                      <li><a class="icon-btn btn-light button-effect" data-tippy-content="Quick Video Call"
                          data-toggle="modal" data-target="#confvideocl"><i data-feather="video"></i></a></li>
                      <li class="chat-friend-toggle"><a class="icon-btn btn-light bg-transparent button-effect outside"
                          data-tippy-content="Quick action"><i data-feather="more-vertical"></i></a>
                        <div class="chat-frind-content">
                          <ul>
                            <li><a class="icon-btn btn-outline-primary button-effect btn-sm"><i data-feather="user"></i></a>
                              <h5>profile</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-success button-effect btn-sm"><i
                                  data-feather="plus-circle"></i></a>
                              <h5>archive</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-danger button-effect btn-sm"><i
                                  data-feather="trash-2"></i></a>
                              <h5>delete</h5>
                            </li>
                            <li><a class="icon-btn btn-outline-light button-effect btn-sm"><i data-feather="slash"></i></a>
                              <h5>block</h5>
                            </li>
                          </ul>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="contact-chat">
                <div class="rightchat animat-rate">
                  <div class="bg_circle">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                  </div>
                  <div class="cross"></div>
                  <div class="cross1"></div>
                  <div class="cross2"></div>
                  <div class="dot"></div>
                  <div class="dot1"> </div>
                </div>
              </div>
              <!-- <img src="../assets/images/chat.png" alt="" /> -->
              <div class="call-list-center">
                <div class="animated-bg"><i></i><i></i><i></i></div>
                <p>Select a chat to read messages</p>
              </div>
            </div>
            <div class="message-input">
              <div class="wrap emojis-main d-flex align-items-center">
                <div class="messageBox w-100">
                  <input class="setemoj" id="setemoj"
                    style="width: 100%;line-height: 2.5rem !important; border: 1px solid !important; border-radius: 7px !important; padding: 0px 10px;"
                    type="text" [(ngModel)]="message" placeholder="Type a message..." />
                </div>
                <div class="uploadicon ml-2" style="width: 7%;">
                  <!-- href="javascript:void(0);" -->
                  <!-- <a href="javascript:void(0)">
                    <i class="fa fa-image"></i>
                  </a> -->
                  <input *ngIf="!isUpload" id="file" type="file" (change)="selectGroupFile($event)">
                  <label for="file" style="margin-bottom: 0px !important;">
                    <i class="fa fa-camera"></i></label>
    
    
    
    
                  <!-- <input accept="image/*" class="inputfile hideDiv" id="file-1" name="profileImage" [disabled]="file == '' || file == null"
                        onchange="document.getElementById('pImg').src = window.URL.createObjectURL(this.files[0])"
                        style="display: none;" type="file">
                      <label for="file-1">
                        <i class="fa fa-camera"></i></label> -->
    
    
                </div>
    
    
                <!-- disabled disabled="disabled"-->
    
                <button type="button" class="submit icon-btn btn-primary mr-2" [disabled]="message == '' || message == null"
                  (click)="sendRoomMessage(message)"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  
  
  
  <div id="leaveModal" class="modal fade">
    <div class="modal-dialog modal-confirm">s
      <div class="modal-content">
        <div class="modal-header flex-column">
          <div class="icon-box ml-auto" class="close" data-dismiss="modal">
            <i class="material-icons">&#xE5CD;</i>
          </div>
          <h4 class="modal-title w-100 text-center">Are you sure?</h4>
          <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> -->
        </div>
        <div class="modal-body text-center">
          <p>Do you really want to leave this room?</p>
        </div>
        <div class="modal-footer justify-content-center">
          <!-- (click)="leaveGroup(deleteLeaveId)" -->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="leaveGroup()">Yes,
            Leave Room!</button>
        </div>
      </div>
    </div>
  </div>